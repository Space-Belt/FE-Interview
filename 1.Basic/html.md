# HTML

---

> 일반적으로 CSS 태그를 태그 사이에 위치시키고, JS 태그를 태그가 끝나기 직전에 위치시키는 이유가 무엇인가요?

1. **CSS `<link>` 태그를 `<head></head>` 태그 사이에 위치시키는 이유**

   <img width="761" alt='렌더링 파이프라인' src="https://user-images.githubusercontent.com/82592845/154962927-80a2a043-a052-4b08-902e-f1e08ee7f33c.png">

   ### 브라우저의 생성과정

   브라우저는 HTML, CSS, JAVASCRIPT 등 렌더링에 필요한 리소스를 서버에 요청하고 응답을 받습니다. 그 다음 브라우저의 렌더링 엔진은 서버로부터 받은 HTML으로 DOM을 생성하고 CSS으로 CSSOM을 생성하고 이 둘을 결합해서 렌더트리를 생성합니다. 그 후 브라우저의 자바스크립트 엔진은 서버로부터 응답받은 자바스크립트를 파싱하여 AST(Abstract Syntax Tree)를 생성하고 바이트 코드로 변환하여 실행합니다. 만약 이때, 자바스크립트가 DOM API를 통해 DOM이나 CSSOM를 변경한다면, 변경된 DOM과 CSSOM은 다시 렌더트리로 결합됩니다. 결합된 렌더트리를 기반으로 HTML요소의 레이아웃을 계산하고 브라우저에 HTML요소를 페인팅 합니다.

   ### 바이트 코드란?

   바이트 코드는 가상머신에서 돌아가기 위한 표현방법이다. 컴파일러에 의해 변환된 명령어 코드가 1바이트기에 바이트 코드라고 부른다. 어떤 플렛폼에도 종속되지 않고 실행될 수 있는 가상 머신용 코드라고 보면 된다. 바이트 코드는 다시 실시간 번역기 또는 저스트 인 타임 컴파일러에 의해 바이너리 코드로 변환된다.

   ### 바이트 코드와 바이너리 코드와의 차이점

   바이너리 코드는 기계가 이해할 수 있도록 구성된 이진 코드입니다. 여기서 차이점이 생깁니다. 바이너리 코드는 기계(CPU)가 읽을 수 있는 형태인 반면 바이트 코드는 '가상 머신'에서 읽습니다. 바이트 코드는 일반적인 기계어보다 더 추상적이라고도 하는데 어떤 형태인지 나중에 확인해보고 싶군요.

   ***

   ### 추상구문트리란?

   추상 구문 트리는 [컴파일러](https://ko.wikipedia.org/wiki/%EC%BB%B4%ED%8C%8C%EC%9D%BC%EB%9F%AC)에 널리 사용되는 [자료 구조](https://ko.wikipedia.org/wiki/%EC%9E%90%EB%A3%8C_%EA%B5%AC%EC%A1%B0)인데, 이는 프로그램 코드의 구조를 표현하는 프로퍼티이기 때문이다. AST는 일반적으로 컴파일러의 [구문 분석](https://ko.wikipedia.org/wiki/%EA%B5%AC%EB%AC%B8_%EB%B6%84%EC%84%9D) 단계의 결과물이다. 컴파일러가 요구하는 여러 단계를 통해 프로그램의 중간 표현의 역할을 하며 컴파일러의 최종 결과물에 대해 강력한 영향을 준다. ( [https://ko.wikipedia.org/wiki/추상*구문*트리](https://ko.wikipedia.org/wiki/%EC%B6%94%EC%83%81_%EA%B5%AC%EB%AC%B8_%ED%8A%B8%EB%A6%AC) )

   ### 렌더트리란 ?

   DOM과 CSSOM 두가지를 병합하여 화면에 픽셀을 렌더링 하기 위한 마지막 단계다.
   렌더 트리는 표시되는 각 요소의 레이아웃을 계산하는데 사용되고 픽셀을 화면에 렌더링하는 페인트 프로세스에 대한 입력으로 처리가 된다. 최적의 렌더링 성능을 얻기 위해 이러한 단계를 이해하고 각각

   페인트 단계는 지금까지 만들어 온 데이터로 화면을 그리는 작업을 진하게 된다.

   페인트 참고 : ( [https://web.dev/i18n/ko/first-meaningful-paint/](https://web.dev/i18n/ko/first-meaningful-paint/) )

   출처 : ( [https://ibocon.tistory.com/250](https://ibocon.tistory.com/250) [https://devcecy.com/브라우저는-어떻게-렌더링-될까/](https://devcecy.com/%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%A0%8C%EB%8D%94%EB%A7%81-%EB%90%A0%EA%B9%8C/) )

   ***

   ### \*메트릭이란?

   원시 데이터를 결합하여 의미 있는 측정값을 생성하는 경우 *메트릭*으로 결과를 참조합니다. 특정 메트릭은 팀에 알리고 의사 결정 프로세스를 안내하는 데 유용하다는 것이 입증되었기 때문에 게임 업계에서 표준이 되었습니다.

   일부 예시는 다음과 같습니다.

   - 새 플레이어
   - 월별 활성 사용자
   - 세션 길이
   - 유지율

   ### Answer)

   브라우저가 HTML을 다운로드 받으면 DOM을 만들고, CSS를 다운로드 받으면 CSS Object Model을 만듭니다. HTML과 CSS를 한줄씩 읽고 실행하는 방식으로 파싱과 렌더링을 합니다. 이 두가지 모두가 시각적인 부분을 만드는데 필요하기에, 이 점진적 렌더링은 사이트의 성능을 측정하는 사이트 최적화의 \*메트릭입니다.

   우리가 `<head>` 태그 안에 CSS `<link>` 를 삽입하면, HTML과 CSS를 동시에 렌더링하게 됩니다. 즉 HTML과 CSS가 병렬적으로 렌더링 되며, 따라서 그 시간도 빨라지게 됩니다.

   반면, CSS `<link>` 태그를 `<body>` 뒷부분에 둔다면, HTML을 렌더링 한 후 CSS를 렌더링하기 시작하기 때문에, 렌더링이 총 두번 진행된다. 첫번째 렌더링에서는 스타일되지 않은 HTML 요소들이 보이고, 두번째 렌더링에서는 스타일된 최종 HTML 요소가 보이게 된다.

   문제는 두번째 렌더링을 할 때, HTML 요소들이 재렌더링 되기 때문에 낭비가 심하고, 사용자에게 스타일되지 않은 HTML 요소를 보여주게 되 UX에 좋지 않다.

2. **JS `<script>` 태그를 `<body>` 태그가 끝나기 직전에 위치시키는 이유**

   브라우저는 `<script>` 태그를 만나면 HTML 파싱을 멈추고, `<script>` 를 다운로드하고 실행하기 때문에 사용자에게 화면이 보여지기까지 시간이 늦어집니다. `<body>` 태그가 끝나기 직전에 `<script>` 태그를 두면 먼저 보여져야하는 HTML을 먼저 파싱하여 사용자에게 일단 화면을 보여준 후 자바스크립트 파일을 다운로드하고 실행되도록 할 수 있습니다.

---

> `<script>` `<script async>` `<script defer>` 태그들의 차이점은 무엇인가요?

- `<script>` 을 만나면, HTML 파싱을 중단하고 해당 스크립트를 즉시 다운로드 받고 실행한다. 스크립트 실행이 완료되면 HTML 파싱을 재개한다.
- `<script async>` 는 HTML을 파싱하는 동시에 해당 스크립트를 다운로드 받습니다. 그리고 HTML 파싱이 완료되지 않았어도 스크립트를 실행할 수 있을 때 즉시 실행한다. async는 방문자 수 카운터나 광고 관련 스크립트같이 독립적인 스크립트에 혹은 실행 순서가 중요하지 않은 경우에 주로 사용한다고 합니다. DOM에 접근하는 script가 있을 경우에는 사용하면 안된다. 아직 파싱이되지 않은 DOM요소에 접근하려하면 접근이 불가능하기 때문이다.
- `<script defer>`는 HTML을 파싱하는 동시에 해당 스크립트를 다운로드 받는다는 점에서 `<script async>`와 동일하지만, HTML 파싱이 끝나야 스크립트를 실행한다. 스크립트가 여러개인 경우, 스크립트는 페이지에 나타나는 순서대로 실행된다. 스크립트가 DOM에 의존적인 경우( DOM에 접근하는 script가 있고 많을때)유용하게 사용된다. 또한 HTML이 파싱된 후 스크립트가 실행된다는 점에서 `<script>` 태그를 `<body>` 태그가 끝나기 직전에 위치시키는 것과 거의 비슷한 효과를 가져온다.

---

> 시맨틱 태그(sementic tag) 에 대해 설명하세요.

- 시맨틱 태그는 자신의 목적과 의미를 브라우저와 개발자에게 명확하게 설명하는 태그를 말합니다. 가령 `<div>` 나 `<span>`은 자신이 무엇을 담고 있는 컨텐츠인지 그 자체로 설명하지 못하는 반면, `<form>`, `<table>`등은 자신이 각각 폼과 표를 담당하는 컨텐츠라고 설명한다. 같은 예로 `<nav>`, `<section>`, `<footer>` 들이 있다.

### 시멘트 태그를 사용할 때의 장점 3가지

- 검색 엔진이 웹사이트 정보들을 긁어 모으는것을 ‘크롤링'이라 한다, 이때 크롤링이 되는 대상이 HTML문서이고 컴퓨터는 우리와 다르게 메타데이터를 통해 웹사이트의 정보를 이해하기 때문에 한눈에 자신이 무엇인지 밝히는 시맨틱 태그를 페이지의 검색 랭킹에 사용할 중요한 지표로 활용한다.
- 또한 시각 장애인을 위한 화면 판독기로 페이지를 탐색할 때, 시맨틱 태그가 중요한 지표로 활용된다.
- 개발도 더 편리하게 할 수 있다.

---
